// Generated by CoffeeScript 1.8.0
(function() {
  var drawCalendar, getCurrentWorkoutId, main;

  getCurrentWorkoutId = function() {
    var parsedUrl;
    parsedUrl = document.URL.split("//")[1].split("#")[0].split("/");
    return parsedUrl[parsedUrl.length - 1];
  };

  main = function() {
    return $.ajax({
      url: "/workouts/api/get/all",
      type: "POST",
      dataType: "json",
      data: {
        current_workout_pk: getCurrentWorkoutId(),
        csrfmiddlewaretoken: $.cookie('csrftoken')
      },
      error: function(jqXHR, textStatus, errorThrown) {
        return console.log("AJAX Error: " + errorThrown);
      },
      success: function(data) {
        return drawCalendar(data);
      }
    });
  };

  drawCalendar = function(events, current_month, current_year) {
    return $('#calendar').fullCalendar({
      header: {
        left: 'prev,today,next',
        center: 'title',
        right: ''
      },
      editable: false,
      lang: 'pl',
      firstDay: 1,
      aspectRatio: 3,
      events: events,
      eventColor: '#61ae24',
      timezone: 'local',
      timeFormat: 'HH:mm',
      defaultDate: moment().format('YYYY-MM-DD')
    });
  };

  $(function() {
    return main();
  });

}).call(this);

//# sourceMappingURL=workouts_calendar.js.map
