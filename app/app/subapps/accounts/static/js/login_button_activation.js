// Generated by CoffeeScript 1.6.3
(function() {
  var Button, checkField, main;

  Button = (function() {
    function Button() {
      this.button = $("button");
      this.button.attr('disabled', 'disabled');
      this.usernameOk = this.passwordOk = false;
    }

    Button.prototype.changeButtonStatus = function() {
      if (this.usernameOk && this.passwordOk) {
        return this.button.removeAttr('disabled');
      } else {
        return this.button.attr('disabled', 'disabled');
      }
    };

    Button.prototype.fieldStatus = function(fieldName, isOk) {
      switch (fieldName) {
        case 'username':
          this.usernameOk = isOk;
          break;
        case 'password':
          this.passwordOk = isOk;
      }
      return this.changeButtonStatus();
    };

    return Button;

  })();

  checkField = function($field, name, minLegth, button) {
    if ($field.val().length >= minLegth) {
      return button.fieldStatus(name, true);
    } else {
      return button.fieldStatus(name, false);
    }
  };

  main = function() {
    var $password, $username, button;
    button = new Button;
    $username = $("#id_username");
    $password = $("#id_password");
    checkField($username, "username", 3, button);
    checkField($password, "password", 5, button);
    $username.bind("propertychange keyup paste", function() {
      return checkField($username, "username", 3, button);
    });
    return $password.bind("propertychange keyup paste", function() {
      return checkField($password, "password", 5, button);
    });
  };

  $(function() {
    return main();
  });

}).call(this);
